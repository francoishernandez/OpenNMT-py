

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Loaders &mdash; OpenNMT-py  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="FAQ (Legacy version)" href="legacy/FAQ.html" />
    <link rel="prev" title="Server" href="onmt.translate.translation_server.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> OpenNMT-py
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="main.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="ref.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">How do I use Pretrained embeddings (e.g. GloVe)?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#how-do-i-use-the-transformer-model">How do I use the Transformer model?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#do-you-support-multi-gpu">Do you support multi-gpu?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#how-can-i-ensemble-models-at-inference">How can I ensemble Models at inference?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#how-can-i-weight-different-corpora-at-training">How can I weight different corpora at training?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#how-can-i-apply-on-the-fly-tokenization-and-subword-regularization-when-training">How can I apply on-the-fly tokenization and subword regularization when training?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#what-are-the-readily-available-on-the-fly-data-transforms">What are the readily available on-the-fly data transforms?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#how-can-i-create-custom-on-the-fly-data-transforms">How can I create custom on-the-fly data transforms?</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html#can-i-get-word-alignments-while-translating">Can I get word alignments while translating?</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/Library.html">Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Summarization.html">Summarization</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/GGNN.html">Gated Graph Sequence Neural Networks</a></li>
</ul>
<p class="caption"><span class="caption-text">Scripts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="options/build_vocab.html">Build Vocab</a></li>
<li class="toctree-l1"><a class="reference internal" href="options/train.html">Train</a></li>
<li class="toctree-l1"><a class="reference internal" href="options/translate.html">Translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="options/server.html">Server</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="onmt.html">Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="onmt.modules.html">Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="onmt.translation.html">Translation</a></li>
<li class="toctree-l1"><a class="reference internal" href="onmt.translate.translation_server.html">Server</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Loaders</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-readers">Data Readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dataset">Dataset</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Legacy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="legacy/FAQ.html">FAQ (Legacy version)</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/im2text.html">Image to Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/speech2text.html">Speech to Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy/vid2text.html">Video to Text</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">OpenNMT-py</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Data Loaders</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/onmt.inputters.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-loaders">
<h1>Data Loaders<a class="headerlink" href="#data-loaders" title="Permalink to this headline">¶</a></h1>
<div class="section" id="data-readers">
<h2>Data Readers<a class="headerlink" href="#data-readers" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="onmt.inputters.datareader_base.MissingDependencyException">
<em class="property">exception </em><code class="sig-prename descclassname">onmt.inputters.datareader_base.</code><code class="sig-name descname">MissingDependencyException</code><a class="reference internal" href="_modules/onmt/inputters/datareader_base.html#MissingDependencyException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.datareader_base.MissingDependencyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="onmt.inputters.DataReaderBase">
<em class="property">class </em><code class="sig-prename descclassname">onmt.inputters.</code><code class="sig-name descname">DataReaderBase</code><a class="reference internal" href="_modules/onmt/inputters/datareader_base.html#DataReaderBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.DataReaderBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Read data from file system and yield as dicts.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#onmt.inputters.datareader_base.MissingDependencyException" title="onmt.inputters.datareader_base.MissingDependencyException"><strong>onmt.inputters.datareader_base.MissingDependencyException</strong></a> – A number
    of DataReaders need specific additional packages.
    If any are missing, this will be raised.</p>
</dd>
</dl>
<dl class="method">
<dt id="onmt.inputters.DataReaderBase.from_opt">
<em class="property">classmethod </em><code class="sig-name descname">from_opt</code><span class="sig-paren">(</span><em class="sig-param">opt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onmt/inputters/datareader_base.html#DataReaderBase.from_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.DataReaderBase.from_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>opt</strong> (<em>argparse.Namespace</em>) – The parsed arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="onmt.inputters.DataReaderBase.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">side</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onmt/inputters/datareader_base.html#DataReaderBase.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.DataReaderBase.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from file system and yield as dicts.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="onmt.inputters.TextDataReader">
<em class="property">class </em><code class="sig-prename descclassname">onmt.inputters.</code><code class="sig-name descname">TextDataReader</code><a class="reference internal" href="_modules/onmt/inputters/text_dataset.html#TextDataReader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.TextDataReader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">onmt.inputters.datareader_base.DataReaderBase</span></code></p>
<dl class="method">
<dt id="onmt.inputters.TextDataReader.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param">sequences</em>, <em class="sig-param">side</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onmt/inputters/text_dataset.html#TextDataReader.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.TextDataReader.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read text data from disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequences</strong> (<em>str</em><em> or </em><em>Iterable</em><em>[</em><em>str</em><em>]</em>) – path to text file or iterable of the actual text data.</p></li>
<li><p><strong>side</strong> (<em>str</em>) – Prefix used in return dict. Usually
<code class="docutils literal notranslate"><span class="pre">&quot;src&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;tgt&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>dictionaries whose keys are the names of fields and whose
values are more or less the result of tokenizing with those
fields.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="dataset">
<h2>Dataset<a class="headerlink" href="#dataset" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="onmt.inputters.Dataset">
<em class="property">class </em><code class="sig-prename descclassname">onmt.inputters.</code><code class="sig-name descname">Dataset</code><span class="sig-paren">(</span><em class="sig-param">fields</em>, <em class="sig-param">readers</em>, <em class="sig-param">data</em>, <em class="sig-param">sort_key</em>, <em class="sig-param">filter_pred=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/onmt/inputters/dataset_base.html#Dataset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#onmt.inputters.Dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torchtext.data.dataset.Dataset</span></code></p>
<p>Contain data and process it.</p>
<p>A dataset is an object that accepts sequences of raw data (sentence pairs
in the case of machine translation) and fields which describe how this
raw data should be processed to produce tensors. When a dataset is
instantiated, it applies the fields’ preprocessing pipeline (but not
the bit that numericalizes it or turns it into batch tensors) to the raw
data, producing a list of <code class="xref py py-class docutils literal notranslate"><span class="pre">torchtext.data.Example</span></code> objects.
torchtext’s iterators then know how to use these examples to make batches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fields</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Field</em><em>]</em>) – a dict with the structure
returned by <code class="xref py py-func docutils literal notranslate"><span class="pre">onmt.inputters.get_fields()</span></code>. Usually
that means the dataset side, <code class="docutils literal notranslate"><span class="pre">&quot;src&quot;</span></code> or <code class="docutils literal notranslate"><span class="pre">&quot;tgt&quot;</span></code>. Keys match
the keys of items yielded by the <code class="docutils literal notranslate"><span class="pre">readers</span></code>, while values
are lists of (name, Field) pairs. An attribute with this
name will be created for each <code class="xref py py-class docutils literal notranslate"><span class="pre">torchtext.data.Example</span></code>
object and its value will be the result of applying the Field
to the data that matches the key. The advantage of having
sequences of fields for each piece of raw input is that it allows
the dataset to store multiple “views” of each input, which allows
for easy implementation of token-level features, mixed word-
and character-level models, and so on. (See also
<code class="xref py py-class docutils literal notranslate"><span class="pre">onmt.inputters.TextMultiField</span></code>.)</p></li>
<li><p><strong>readers</strong> (<em>Iterable</em><em>[</em><a class="reference internal" href="#onmt.inputters.DataReaderBase" title="onmt.inputters.DataReaderBase"><em>onmt.inputters.DataReaderBase</em></a><em>]</em>) – Reader objects
for disk-to-dict. The yielded dicts are then processed
according to <code class="docutils literal notranslate"><span class="pre">fields</span></code>.</p></li>
<li><p><strong>data</strong> (<em>Iterable</em><em>[</em><em>Tuple</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) – (name, <code class="docutils literal notranslate"><span class="pre">data_arg</span></code>) pairs
where <code class="docutils literal notranslate"><span class="pre">data_arg</span></code> is passed to the <code class="docutils literal notranslate"><span class="pre">read()</span></code> method of the
reader in <code class="docutils literal notranslate"><span class="pre">readers</span></code> at that position. (See the reader object for
details on the <code class="docutils literal notranslate"><span class="pre">Any</span></code> type.)</p></li>
<li><p><strong>sort_key</strong> (<em>Callable</em><em>[</em><em>[</em><em>torchtext.data.Example</em><em>]</em><em>, </em><em>Any</em><em>]</em>) – A function
for determining the value on which data is sorted (i.e. length).</p></li>
<li><p><strong>filter_pred</strong> (<em>Callable</em><em>[</em><em>[</em><em>torchtext.data.Example</em><em>]</em><em>, </em><em>bool</em><em>]</em>) – A function
that accepts Example objects and returns a boolean value
indicating whether to include that example in the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>src_vocabs</strong> (<em>List</em><em>[</em><em>torchtext.data.Vocab</em><em>]</em>) – Used with dynamic dict/copy
attention. There is a very short vocab for each src example.
It contains just the source words, e.g. so that the generator can
predict to copy them.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="legacy/FAQ.html" class="btn btn-neutral float-right" title="FAQ (Legacy version)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="onmt.translate.translation_server.html" class="btn btn-neutral float-left" title="Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, srush

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>